Авторизация
===========
https://github.com/yiisoft/yii2/blob/master/docs/guide/security-authorization.md
> Уведомление: эта секция в процессе разработки.

Авторизация это процесс проверки того, что пользователь имеет резрешение сделать что-либо. Yii поддерживает два способа авторизации: Фильтр доступа(ACF) и Доступ на основе ролей(RBAC).

Фильтр доступа
--------------

Фильтр доступа(ACF) это простой метод авторизации который лучше использовать в приложениях в которых необходим только простой фильтр доступа. Как понятно из названия, ACF это фильтр действий, котрый может быть назначен к контроллеру или модулю как поведение. ACF будет проверять правила доступа что бы убедиться, что пользователь имеет разрешение выполнить запрашиваемое действие.

Следующий код показывает как ACF реализуется через [[yii\filters\AccessControl|фильтр доступа]]:

```php
use yii\filters\AccessControl;

class SiteController extends Controller
{
    public function behaviors()
    {
        return [
            'access' => [
                'class' => AccessControl::className(),
                'only' => ['login', 'logout', 'signup'],
                'rules' => [
                    [
                        'allow' => true,
                        'actions' => ['login', 'signup'],
                        'roles' => ['?'],
                    ],
                    [
                        'allow' => true,
                        'actions' => ['logout'],
                        'roles' => ['@'],
                    ],
                ],
            ],
        ];
    }
    // ...
}
```

В приведенном выше коде ACF подключается к контроллеру `site` как поведение. Это обычный способ использования фильтра действий. Опция `only` устанавливает, что ACF должен применятся только к действиям `login`, `logout` и `signup`. Опция `rules` установленная для AccessControl гласит что:
- Не авторизованным пользователям разрешено выполнить действия `login` и `signup`. Знак вопроса `?` в опции `roles` является специальным маркером обозначающим не авторизованных пользователей.
- Авторизованным пользователям разрешено выполнять действие `logout`. Символ `@` обознначает всех авторизованных пользотелей.

ACF осуществляет проверку правил по одному сверху в них до тех пор пока не найдет подходящее. Значение `allow` из соответствующего правила будет использоваться если пользователь аторизован. Если ни одно правило не подошло, то считается, что пользователь не имеет разрешения выполнять действия и ACF остановит работу.

Если пользователь не авторизован к текущему действию, то ACF выполнит слледующее:

* Если пользователь является гостем, то он будет перенаправлен на страницу авторизации.
* Если пользователь не является гостем, то будет выполнено исключение запрета доступа.

Вы можете настраивать поведение через свойство [[yii\filters\AccessControl::denyCallback]]:

```php
[
    'class' => AccessControl::className(),
    'denyCallback' => function ($rule, $action) {
        throw new \Exception('You are not allowed to access this page');
    }
]
```

[[yii\filters\AccessRule|Access rules]] поддерживает множество опций.








